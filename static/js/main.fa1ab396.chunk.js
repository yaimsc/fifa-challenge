(this["webpackJsonpfifa-challenge"]=this["webpackJsonpfifa-challenge"]||[]).push([[0],{86:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(33),r=a.n(c),i=a(35),o=(a(86),a(14)),l=a(9),s=a(140),u=a(1),d=function(e){var t=e.title,a=e.type,n=e.onClick,c=e.variant;return Object(u.jsx)(s.a,{className:"button",variant:c,type:a,onClick:n,"data-testid":"button",children:t})},j=a(141),m=function(e){var t=e.label,a=e.error,n=e.handleChange,c=e.value,r=e.name,i=e.defaultValue;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(j.a,{onChange:n,defaultValue:i,label:t,name:r,value:c,error:a,"data-testid":"input"})})},h=(a(146),a(137)),b=a(138),O=function(e){var t=e.label,a=e.content;return Object(u.jsxs)(h.a,{sx:{m:1,width:300},"data-testid":"select-wrapper",children:[Object(u.jsx)(b.a,{children:t}),a]})},f=a.p+"static/media/adidas_logo.1dc7c692.png",g=function(){return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("img",{className:"icon",alt:"adidas",src:f})}),Object(u.jsx)("h1",{className:"header-title","data-testid":"header-title",children:"Your Adidas Team"})]})},x=a(16),p=a(147),v=a(143),S=a(134),y=a(136),N=a(142),T=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],s=i[1],j=Object(n.useState)([]),m=Object(l.a)(j,2),h=m[0],b=m[1],f=Object(n.useState)([]),g=Object(l.a)(f,2),T=g[0],C=g[1],_=Object(n.useState)([]),E=Object(l.a)(_,2),k=E[0],I=E[1];Object(n.useEffect)((function(){fetch("https://api.football-data.org/v2/competitions/WC/teams",{method:"GET",headers:{"X-Auth-Token":"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/fifa-challenge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY)}}).then((function(e){return e.json()})).then((function(e){return c(e.teams)})).catch((function(e){return console.error(e)}))}),[]);Object(n.useEffect)((function(){o&&fetch("https://api.football-data.org/v2/teams/".concat(o),{method:"GET",headers:{"X-Auth-Token":"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/fifa-challenge",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY)}}).then((function(e){return e.json()})).then((function(e){return b(e.squad)})).catch((function(e){return console.error(e)}))}),[o]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{children:"Your team is your strengh, select your favorite players"}),Object(u.jsx)("div",{className:"div-select","data-testid":"selects",children:Object(u.jsx)(O,{label:"Select team",content:Object(u.jsx)(S.a,{id:"select",value:""===o?"":o,onChange:function(e){s(e.target.value),localStorage.setItem("teams",JSON.stringify(a))},label:"Select team",children:a.map((function(e,t){return Object(u.jsx)(y.a,{value:e.id,sx:{zInxdex:1251},children:e.name},t)}))})})}),Object(u.jsxs)("div",{className:"player-select",children:[Object(u.jsx)(O,{label:"Select Player",content:Object(u.jsx)(S.a,{value:""===T?"":T,onChange:function(e){C(e.target.value)},input:Object(u.jsx)(N.a,{label:"Name"}),children:h.map((function(e,t){return Object(u.jsxs)(y.a,{value:e,sx:{zIndex:1251},children:[e.name," - ",e.position]},t)}))})}),Object(u.jsx)(d,{sx:{fontWeight:"bold"},className:"add-button",title:"Add",onClick:function(){return function(e){return k.some((function(t){return e.id===t.id}))}(T)?alert("You have that player already selected"):(I((function(e){return[].concat(Object(x.a)(e),[T])})),localStorage.setItem("yourTeam",JSON.stringify(k)),console.log(k),k)}})]}),Object(u.jsx)("div",{children:function(e){return localStorage.setItem("yourTeam",JSON.stringify(e)),Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["Total: ",e.length]}),Object(u.jsx)(p.a,{direction:"column",spacing:1,className:"player-chips",sx:{marginBottom:2},children:e.length<1?"":e.map((function(e,t){return Object(u.jsx)(v.a,{className:"chip",label:"".concat(e.name," - ").concat(e.position," - ").concat(e.nationality),onDelete:function(){return t=e,void I((function(e){return e.filter((function(e){return e!==t}))}));var t}},t)}))})]})}(k)})]})};var C=function(){var e=Object(o.f)(),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),s=Object(l.a)(i,2),j=s[0],h=s[1],b=Object(n.useState)(!1),O=Object(l.a)(b,2),f=O[0],x=O[1];Object(n.useEffect)((function(){r(localStorage.setItem("teamName","")),h(localStorage.setItem("coachName",""))}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsxs)("div",{className:"create","data-testid":"create-team",children:[Object(u.jsx)("h2",{className:"title",children:"Create your own Adidas team"}),Object(u.jsx)("p",{className:"instructions",children:"Your team needs at least 4 defenders, 4 midfielders, 2 attackers & 2 goalkeepers and cannot exceed 16 player."}),Object(u.jsx)("h3",{children:"Your team name is your brand, give us your favorite name"}),Object(u.jsx)(m,{name:"team-name",label:"Team Name",handleChange:function(e){r(e.target.value),localStorage.setItem("teamName",e.target.value)}}),Object(u.jsx)("h3",{children:"Be your own coach, give us a name"}),Object(u.jsx)(m,{name:"coach-name",label:"Coach Name",handleChange:function(e){h(e.target.value),localStorage.setItem("coachName",e.target.value)}}),Object(u.jsx)(T,{}),Object(u.jsx)(d,{type:"submit",title:"submit",variant:"contained",onClick:function(){x(function(e,t,a){var n=JSON.parse(localStorage.getItem("teams")),c="",r=!1;return console.log(a),null===a||""===a||void 0===a?c+="Your team is empty\n":(""!==e&&void 0!==e||(c+="Team name is required\n"),""!==t&&void 0!==t||(c+="Coach name is required\n"),a.length<12&&(c+="You need at least 12 players\n"),a.length>16&&(c+="Your team can only have 16 players, coach included\n"),a.filter((function(e){return"Defender"===e.position})).length<4&&(c+="You need at least 4 Defenders, try adding more\n"),a.filter((function(e){return"Midfielder"===e.position})).length<4&&(c+="You need at least 4 Midfielders, try adding more\n"),a.filter((function(e){return"Attacker"===e.position})).length<2&&(c+="You need at least 2 Attackers, try adding more\n"),a.filter((function(e){return"Goalkeeper"===e.position})).length<2&&(c+="You need at least 2 Goalkeepers, try adding more\n"),null===n&&""===n&&void 0===n||n.map((function(e){return a.filter((function(t){return t.nationality===e.name})).length>4?c+="You cannot select more than 4 players from the same team\n":""}))),""===c?(c="Congratulations! You have succesfully completed your, please press submit again to view your full team",alert(c),r=!0):alert(c),r}(c,j,JSON.parse(localStorage.getItem("yourTeam")))),console.log(f),f&&e("/your-team")}})]})]})},_=function(){var e=Object(o.f)(),t=JSON.parse(localStorage.getItem("yourTeam")),a=t.filter((function(e){return"Defender"===e.position})),n=t.filter((function(e){return"Midfielder"===e.position})),c=t.filter((function(e){return"Attacker"===e.position})),r=t.filter((function(e){return"Goalkeeper"===e.position}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsxs)("div",{className:"create","data-testid":"final-team",children:[Object(u.jsx)("h2",{className:"title",children:"Your selected team"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Team Name"}),Object(u.jsx)("p",{children:localStorage.getItem("teamName")})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Coach"}),Object(u.jsx)("p",{children:localStorage.getItem("coachName")})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Players"}),Object(u.jsx)("p",{children:"Defenders"}),a.map((function(e,t){return Object(u.jsx)(p.a,{direction:"row",spacing:1,children:Object(u.jsx)(v.a,{label:e.name,variant:"outlined"},t)})})),Object(u.jsx)("p",{children:"Midfielders"}),n.map((function(e,t){return Object(u.jsx)(p.a,{direction:"row",spacing:1,children:Object(u.jsx)(v.a,{label:e.name,variant:"outlined"},t)})})),Object(u.jsx)("p",{children:"Attackers"}),c.map((function(e,t){return Object(u.jsx)(p.a,{direction:"row",spacing:1,children:Object(u.jsx)(v.a,{label:e.name,variant:"outlined"},t)})})),Object(u.jsx)("p",{children:"Goalkeepers"}),r.map((function(e,t){return Object(u.jsx)(p.a,{direction:"row",spacing:1,children:Object(u.jsx)(v.a,{label:e.name,variant:"outlined"},t)})}))]}),Object(u.jsx)(d,{onClick:function(){return localStorage.clear(),void e(-1)},title:"Go back & Start a new team"})]})]})},E=(a(95),function(){return Object(u.jsxs)(o.c,{basename:"/fifa-challenge",children:[Object(u.jsx)(o.a,{exact:!0,path:"/",element:Object(u.jsx)(C,{})}),Object(u.jsx)(o.a,{exact:!0,path:"your-team",element:Object(u.jsx)(_,{})})]})}),k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,148)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};r.a.render(Object(u.jsx)(i.a,{children:Object(u.jsx)(E,{})}),document.getElementById("root")),k()}},[[96,1,2]]]);
//# sourceMappingURL=main.fa1ab396.chunk.js.map